syntax = "proto3";

package llm.v1;

option go_package = "github.com/VibeTeam/fitness-tracker-backend/proto/llm/v1";

import "google/protobuf/timestamp.proto";
import "common/v1/common.proto";
import "workout/v1/workout.proto";

message WorkoutSessionSummary {
  common.v1.WorkoutType type = 1;
  google.protobuf.Timestamp datetime = 2;
  // Key-value details (e.g., reps, weight).
  repeated workout.v1.WorkoutDetail details = 3;
}

message SuggestWorkoutRequest {
  int32 user_id = 1;
  // List of past workout session summaries.
  repeated WorkoutSessionSummary history = 2;
}

message SuggestWorkoutResponse {
  // Suggested workout type (ID and details).
  common.v1.WorkoutType suggested_type = 1;
  repeated workout.v1.WorkoutDetail suggested_details = 2;
  // Explanation for the suggestion, possibly referencing muscle groups.
  string rationale = 3;
}

service LLMService {
  rpc SuggestWorkout(SuggestWorkoutRequest) returns (SuggestWorkoutResponse);
}
